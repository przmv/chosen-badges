<!doctype html>
<html>
  <head>
    <title>Chosen-Badges Demo</title>
    <!-- Styles for Chosen -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/chosen/1.1.0/chosen.css">
    <!-- Styles for Chosen-Badges -->
    <link rel="stylesheet" href="chosen-badges.css">
    <!-- Twitter Bootstrap -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.1/css/bootstrap.min.css">
    <!-- Demo -->
    <style>
      .chosen-container-multi .chosen-choices li.search-field input[type="text"] {
        height: 24px;
      }
      select {
        width: 100%;
      }
      div[role="tabpanel"] {
        margin: 30px 0;
      }
      ul.nav-tabs {
        margin-bottom: 15px;
      }
      #simple_demo_chosen .with-badge:after,
      #edit_demo_chosen .with-badge:after {
        cursor: pointer;
      }
      .btn-toolbar {
        margin: 15px 0;
      }
    </style>
    <!-- jQuery -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header class="page-header">
        <h1>Chosen-Badges Demo</h1>
      </header>

      <!-- Simple demo begin -->
      <section>
        <h2>Simple Badges <small>Show alert on click</small></h2>

        <select id="simple-demo" multiple>
          <option selected value="fruit">Apple</option>
          <option value="animal">Fox</option>
          <option value="number">42</option>
        </select>

        <div role="tabpanel">
          <ul class="nav nav-tabs">
            <li class="active">
              <a href="#simple-demo-html" data-toggle="tab">
                HTML
              </a>
            </li>
            <li>
              <a href="#simple-demo-js" data-toggle="tab">
                JavaScript
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade in active" id="simple-demo-html">
              <pre>&lt;select id=&quot;simple-demo&quot; multiple&gt;
  &lt;option selected value=&quot;fruit&quot;&gt;Apple&lt;/option&gt;
  &lt;option value=&quot;animal&quot;&gt;Fox&lt;/option&gt;
  &lt;option value=&quot;number&quot;&gt;42&lt;/option&gt;
&lt;/select&gt;</pre>
            </div>
            <div class="tab-pane fade" id="simple-demo-js">
              <pre>&lt;script&gt;
  $(document).ready(function () {
    $(&apos;#simple-demo&apos;)
    .chosenBadges()
    .chosen()
    .on(&apos;chosenBadges:click&apos;, function (e) {
      window.alert(e.value);
    });
  });
&lt;/script&gt;</pre>
            </div>
          </div>
        </div>

        <script>
          $(document).ready(function () {
            $('#simple-demo')
            .chosenBadges()
            .chosen()
            .on('chosenBadges:click', function (e) {
              window.alert(e.value);
            });
          });
        </script>
      </section>
      <!-- Simple demo end -->

      <hr>

      <!-- Edit demo begin -->
      <section>
        <h2>Edit Badges <small>Show prompt on click</small></h2>

        <select id="edit-demo" multiple>
          <option selected value="fruit">Apple</option>
          <option selected value="animal">Fox</option>
          <option value="number">42</option>
        </select>

        <div role="tabpanel">
          <ul class="nav nav-tabs">
            <li class="active">
              <a href="#edit-demo-html" data-toggle="tab">
                HTML
              </a>
            </li>
            <li>
              <a href="#edit-demo-js" data-toggle="tab">
                JavaScript
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade in active" id="edit-demo-html">
              <pre>&lt;select id=&quot;edit-demo&quot; multiple&gt;
  &lt;option selected value=&quot;fruit&quot;&gt;Apple&lt;/option&gt;
  &lt;option selected value=&quot;animal&quot;&gt;Fox&lt;/option&gt;
  &lt;option value=&quot;number&quot;&gt;42&lt;/option&gt;
&lt;/select&gt;</pre>
            </div>
            <div class="tab-pane fade" id="edit-demo-js">
              <pre>&lt;script&gt;
  $(document).ready(function () {
    $(&apos;#edit-demo&apos;)
    .chosenBadges()
    .chosen()
    .on(&apos;chosenBadges:click&apos;, function (e) {
      var curBadge = e.badge.get(e.key);
      var newBadge = window.prompt(&apos;New badge&apos;, curBadge) || &quot;n/a&quot;;
      e.badge.set(e.key, newBadge);
    });
  });
&lt;/script&gt;</pre>
            </div>
          </div>
        </div>

        <script>
          $(document).ready(function () {
            $('#edit-demo')
            .chosenBadges()
            .chosen()
            .on('chosenBadges:click', function (e) {
              var curBadge = e.badge.get(e.key);
              var newBadge = window.prompt('New badge', curBadge) || "n/a";
              e.badge.set(e.key, newBadge);
            });
          });
        </script>
      </section>
      <!-- Edit demo end -->

      <hr>

      <!-- Numbering widget demo begin -->
      <section>
        <h2>Numbering widget demo</h2>

        <select id="numbering-demo" multiple>
          <option selected value="apples">Apples</option>
          <option value="oranges">Oranges</option>
          <option value="bananas">Bananas</option>
        </select>

        <div role="tabpanel">
          <ul class="nav nav-tabs">
            <li class="active">
              <a href="#numbering-demo-html" data-toggle="tab">
                HTML
              </a>
            </li>
            <li>
              <a href="#numbering-demo-js" data-toggle="tab">
                JavaScript
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade in active" id="numbering-demo-html">
              <pre>&lt;select id=&quot;numbering-demo&quot; multiple&gt;
  &lt;option selected value=&quot;apples&quot;&gt;Apples&lt;/option&gt;
  &lt;option value=&quot;oranges&quot;&gt;Oranges&lt;/option&gt;
  &lt;option value=&quot;bananas&quot;&gt;Bananas&lt;/option&gt;
&lt;/select&gt;</pre>
            </div>
            <div class="tab-pane fade" id="numbering-demo-js">
              <pre>&lt;script&gt;
  $(document).ready(function () {
    $(&apos;#numbering-demo&apos;)
    .chosenBadges({
      value: 0, // Default value
      numbering: true
    })
    .chosen();
  });
&lt;/script&gt;</pre>
            </div>
          </div>
        </div>

        <script>
          $(document).ready(function () {
              $('#numbering-demo')
              .chosenBadges({
                value: 0, // Default value
                numbering: true
              })
              .chosen();
          });
        </script>
      </section>
      <!-- Numbering widget demo end -->

      <hr>

      <!-- Range and step Numbering widget demo begin -->
      <section>
        <h2>Numbering widget demo <small>range and step</small></h2>

        <select id="range-demo" multiple>
          <option selected value="apples">Apples</option>
          <option value="oranges">Oranges</option>
          <option value="bananas">Bananas</option>
        </select>

        <div role="tabpanel">
          <ul class="nav nav-tabs">
            <li class="active">
              <a href="#range-demo-html" data-toggle="tab">
                HTML
              </a>
            </li>
            <li>
              <a href="#range-demo-js" data-toggle="tab">
                JavaScript
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade in active" id="range-demo-html">
              <pre>&lt;select id=&quot;numbering-demo&quot; multiple&gt;
  &lt;option selected value=&quot;apples&quot;&gt;Apples&lt;/option&gt;
  &lt;option value=&quot;oranges&quot;&gt;Oranges&lt;/option&gt;
  &lt;option value=&quot;bananas&quot;&gt;Bananas&lt;/option&gt;
&lt;/select&gt;</pre>
            </div>
            <div class="tab-pane fade" id="range-demo-js">
              <pre>&lt;script&gt;
  $(document).ready(function () {
    $(&apos;#numbering-demo&apos;)
    .chosenBadges({
      value: 0, // Default value
      numbering: {
        min: 0,
        max: 100,
        step: 10
      }
    })
    .chosen();
  });
&lt;/script&gt;</pre>
            </div>
          </div>
        </div>

        <script>
          $(document).ready(function () {
              $('#range-demo')
              .chosenBadges({
                value: 0, // Default value
                numbering: {
                  min: 0,
                  max: 100,
                  step: 10
                }
              })
              .chosen();
          });
        </script>
      </section>
      <!-- Range and step Numbering widget demo end -->

      <!-- Complex demo begin -->
      <section>
        <h2>Complex Demo</h2>

        <select data-placeholder="Select up to 3 factors" multiple id="complex-demo" data-selectionorder="value">
          <option selected="selected" value="value">Value</option>
          <option value="quality">Quality</option>
          <option value="lowVol">Low Volatility</option>
          <option value="asset_growth">Asset Growth</option>
          <option value="accruals">Accruals</option>
          <option value="shareholder_yield">Shareholder Yield</option>
          <option value="momentum">Momentum</option>
        </select>

        <p>
          <input type="checkbox" id="ascending" checked>
          <label for="ascending">Ascending</label>
        </p>

        <div class="btn-toolbar">
          <button id="get-badges">Get Badges</button>
          <button id="set-badges">Set Badges to <code>value: 20, asset_growth: 10, accruals: 10</code></button>
        </div>

        <pre id="output"></pre>

        <div role="tabpanel">
          <ul class="nav nav-tabs">
            <li class="active">
              <a href="#complex-demo-html" data-toggle="tab">
                HTML
              </a>
            </li>
            <li>
              <a href="#complex-demo-js" data-toggle="tab">
                JavaScript
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane fade in active" id="complex-demo-html">
              <pre>&lt;select data-placeholder=&quot;Select up to 3 factors&quot; multiple id=&quot;complex-demo&quot; data-selectionorder=&quot;value&quot;&gt;
  &lt;option selected=&quot;selected&quot; value=&quot;value&quot;&gt;Value&lt;/option&gt;
  &lt;option value=&quot;quality&quot;&gt;Quality&lt;/option&gt;
  &lt;option value=&quot;lowVol&quot;&gt;Low Volatility&lt;/option&gt;
  &lt;option value=&quot;asset_growth&quot;&gt;Asset Growth&lt;/option&gt;
  &lt;option value=&quot;accruals&quot;&gt;Accruals&lt;/option&gt;
  &lt;option value=&quot;shareholder_yield&quot;&gt;Shareholder Yield&lt;/option&gt;
  &lt;option value=&quot;momentum&quot;&gt;Momentum&lt;/option&gt;
&lt;/select&gt;

&lt;p&gt;
  &lt;input type=&quot;checkbox&quot; id=&quot;ascending&quot; checked&gt;
  &lt;label for=&quot;ascending&quot;&gt;Ascending&lt;/label&gt;
&lt;/p&gt;

&lt;div class=&quot;btn-toolbar&quot;&gt;
  &lt;button id=&quot;get-badges&quot;&gt;Get Badges&lt;/button&gt;
  &lt;button id=&quot;set-badges&quot;&gt;Set Badges to &lt;code&gt;value: 20, asset_growth: 10, accruals: 10&lt;/code&gt;&lt;/button&gt;
&lt;/div&gt;

&lt;pre id=&quot;output&quot;&gt;&lt;/pre&gt;
</pre>
            </div>
            <div class="tab-pane fade" id="complex-demo-js">
              <pre>&lt;script&gt;
  $(document).ready(function () {
    $(&apos;#complex-demo&apos;)
    .chosenBadges({
      value: function (key, badge) {
        var defaultVal = 20;
        var selection = $(&apos;#complex-demo&apos;).getSelectionOrder();
        var lastKey = selection[selection.length - 2]; // next to last, since last is the key itself
        var lastVal = badge.get(lastKey);
        if (lastKey === undefined || lastVal === undefined) {
          return defaultVal;
        }
        return Math.min(lastVal, defaultVal);
      },
      numbering: {
        min: function (key, badge) {
          var defaultMin = 10;
          if (!$(&apos;#ascending&apos;).prop(&apos;checked&apos;)) {
            return defaultMin;
          }
          var selection = $(&apos;#complex-demo&apos;).getSelectionOrder();
          var nextIdx = selection.indexOf(key) + 1;
          if (nextIdx === selection.length) {
            return defaultMin;
          }
          var nextKey = selection[nextIdx];
          var nextVal = parseInt(badge.get(nextKey), 10);
          return Math.max(nextVal, defaultMin);
        },
        max: 30
      }
    })
    .chosen({max_selected_options: 3});

    $(&apos;#get-badges&apos;)
    .on(&apos;click&apos;, function () {
      var badges = $(&apos;#complex-demo&apos;).data(&apos;plugin_chosenBadges&apos;).get();
      var output = [
        Object.keys(badges),
        Object.keys(badges).map(function (k) {
          return badges[k];
        })
      ];
      output = output.map(function (v) {
        return JSON.stringify(v);
      });
      $(&apos;#output&apos;).text(output.join(&apos;\n&apos;));
    });

    $(&apos;#set-badges&apos;)
    .on(&apos;click&apos;, function () {
      var badges = {
        value: 20,
        asset_growth: 10,
        accruals: 10
      };
      var plugin = $(&apos;#complex-demo&apos;).data(&apos;plugin_chosenBadges&apos;);
      $(&apos;#complex-demo&apos;).setSelectionOrder(Object.keys(badges), true);
      $.each(badges, function (k, v) {
        plugin.set(k, v);
      });
    });
  });
&lt;/script&gt;
</pre>
            </div>
          </div>
        </div>

        <script>
          $(document).ready(function () {
            $('#complex-demo')
            .chosenBadges({
              value: function (key, badge) {
                var defaultVal = 20;
                var selection = $('#complex-demo').getSelectionOrder();
                var lastKey = selection[selection.length - 2]; // next to last, since last is the key itself
                var lastVal = badge.get(lastKey);
                if (lastKey === undefined || lastVal === undefined) {
                  return defaultVal;
                }
                return Math.min(lastVal, defaultVal);
              },
              numbering: {
                min: function (key, badge) {
                  var defaultMin = 10;
                  if (!$('#ascending').prop('checked')) {
                    return defaultMin;
                  }
                  var selection = $('#complex-demo').getSelectionOrder();
                  var nextIdx = selection.indexOf(key) + 1;
                  if (nextIdx === selection.length) {
                    return defaultMin;
                  }
                  var nextKey = selection[nextIdx];
                  var nextVal = parseInt(badge.get(nextKey), 10);
                  return Math.max(nextVal, defaultMin);
                },
                max: 30
              }
            })
            .chosen({max_selected_options: 3});

            $('#get-badges')
            .on('click', function () {
              var badges = $('#complex-demo').data('plugin_chosenBadges').get();
              var output = [
                Object.keys(badges),
                Object.keys(badges).map(function (k) {
                  return badges[k];
                })
              ];
              output = output.map(function (v) {
                return JSON.stringify(v);
              });
              $('#output').text(output.join('\n'));
            });

            $('#set-badges')
            .on('click', function () {
              var badges = {
                value: 20,
                asset_growth: 10,
                accruals: 10
              };
              var plugin = $('#complex-demo').data('plugin_chosenBadges');
              $('#complex-demo').setSelectionOrder(Object.keys(badges), true);
              $.each(badges, function (k, v) {
                plugin.set(k, v);
              });
            });
          });
        </script>
      </section>
      <!-- Complex demo end -->

    </div>

    <!-- Fork me on GitHub -->
    <a href="https://github.com/pshevtsov/chosen-badges/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

    <!-- Chosen -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/chosen/1.1.0/chosen.jquery.min.js"></script>
    <!-- Chosen-Badges -->
    <script src="chosen-badges.js"></script>
    <!-- Twitter Bootstrap -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <!-- Chosen Order Plugin for Complex demo -->
    <script src="http://labo.tristan-jahier.fr/chosen_order/chosen.order.jquery.min.js"></script>
  </body>
</html>
